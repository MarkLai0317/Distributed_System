(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce985490"],{"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),o=r("2d00"),c=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"3a91":function(e,t,r){"use strict";r.r(t);var n=r("f2bf"),a=Object(n["createElementVNode"])("h2",null,"ForSale",-1),o=Object(n["createElementVNode"])("h2",null,"Products",-1),c=Object(n["createTextVNode"])("Add");function i(e,t,r,i,l,u){var d=Object(n["resolveComponent"])("el-table-column"),s=Object(n["resolveComponent"])("el-input-number"),p=Object(n["resolveComponent"])("el-table"),b=Object(n["resolveComponent"])("el-pagination"),f=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[a,Object(n["createVNode"])(p,{align:"center",data:u.currentPage,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{prop:"ProductName",label:"Product",width:"150"}),Object(n["createVNode"])(d,{prop:"SupplierID",label:"Supplier",width:"150"}),Object(n["createVNode"])(d,{prop:"Num",label:"Number",width:"150"}),Object(n["createVNode"])(d,{prop:"Price",label:"Price",width:"150",align:"center"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(s,{modelValue:e.row.Price,"onUpdate:modelValue":function(t){return e.row.Price=t},size:"mini",min:1,onChange:function(t){return u.changePrice(e.row)}},null,8,["modelValue","onUpdate:modelValue","onChange"])]})),_:1})]})),_:1},8,["data"]),Object(n["createVNode"])(b,{background:"",layout:"prev, pager, next","page-size":l.pageSize,total:this.forSaleTable.length,onCurrentChange:u.setPage},null,8,["page-size","total","onCurrentChange"]),o,Object(n["createVNode"])(p,{align:"center",data:l.productTable,style:{width:"100%"}},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{prop:"ProductName",label:"Product",width:"130",align:"center"}),Object(n["createVNode"])(d,{prop:"SupplierID",label:"Supplier",width:"130",align:"center"}),Object(n["createVNode"])(d,{prop:"StoreHouseID",label:"StoreHouse",width:"130",align:"center"}),Object(n["createVNode"])(d,{prop:"Num",label:"Remaining",width:"130",align:"center"}),Object(n["createVNode"])(d,{label:"Number",width:"150",align:"center"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(s,{modelValue:e.row.number,"onUpdate:modelValue":function(t){return e.row.number=t},size:"mini",max:e.row.Num,min:1,onChange:function(t){return u.changeNumber(e.$index,e.row)}},null,8,["modelValue","onUpdate:modelValue","max","onChange"])]})),_:1}),Object(n["createVNode"])(d,{width:"150",align:"center"},{default:Object(n["withCtx"])((function(e){return[Object(n["createVNode"])(f,{size:"mini",disabled:!(e.row.number<=e.row.Num),onClick:function(t){return u.handleAdd(e.$index,e.row)}},{default:Object(n["withCtx"])((function(){return[c]})),_:2},1032,["disabled","onClick"])]})),_:1})]})),_:1},8,["data"])])}r("e9c4"),r("fb6a");var l={data:function(){return{page:1,pageSize:5,forSaleTable:[],productTable:[],priceState:[],firstTimeAdd:!0}},methods:{getForSaleTable:function(){var e=this;console.log("get forSale"),this.axios.get("http://127.0.0.1:9000/manager/GetForsale",{params:{ManagerID:this.firebase.auth().currentUser.email}}).then((function(t){var r=JSON.stringify(t.data),n=JSON.parse(r);e.forSaleTable=n.data,console.log(e.forSaleTable)})).catch((function(e){console.log(e)})).then((function(){}))},getHaveTable:function(){var e=this;console.log("get Have"),this.axios.get("http://127.0.0.1:9000/manager/GetHave",{params:{ManagerID:this.firebase.auth().currentUser.email}}).then((function(t){var r=JSON.stringify(t.data),n=JSON.parse(r);e.productTable=n.data;for(var a=0;a<e.productTable.length;++a)e.productTable[a].number=1;console.log(e.productTable)})).catch((function(e){console.log(e)})).then((function(){}))},changeNumber:function(e,t){var r=!1;r&&(console.log(e),console.log(t))},changePrice:function(e){var t=this;this.axios.post("http://127.0.0.1:9000/manager/PriceChange",{ManagerID:this.firebase.auth().currentUser.email,Price:e.Price,SupplierID:e.SupplierID,ProductID:e.ProductID}).then((function(e){console.log(e);var r=JSON.stringify(e.data),n=JSON.parse(r);n.error?t.error=n.error:(console.log("change price succeed!"),t.getForSaleTable(),t.getHaveTable())}))},handleAdd:function(e,t){var r=this;console.log(e,t),this.axios.post("http://127.0.0.1:9000/manager/forSell",{StoreHouseID:t.StoreHouseID,ShopManagerID:this.firebase.auth().currentUser.email,ProductSupplierID:t.SupplierID,ProductID:t.ProductID,Num:t.number,price:t.price}).then((function(e){console.log(e);var t=JSON.stringify(e.data),n=JSON.parse(t);n.error?r.error=n.error:(console.log("add to ForSale succeed!"),r.getForSaleTable(),r.getHaveTable())}))},setPage:function(e){console.log(e),this.page=e}},created:function(){this.getForSaleTable(),this.getHaveTable()},computed:{currentPage:function(){return this.forSaleTable.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)}}},u=r("6b0d"),d=r.n(u);const s=d()(l,[["render",i]]);t["default"]=s},8418:function(e,t,r){"use strict";var n=r("a04b"),a=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var c=n(t);c in e?a.f(e,c,o(0,r)):e[c]=r}},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e9c4:function(e,t,r){var n=r("23e7"),a=r("da84"),o=r("d066"),c=r("2ba4"),i=r("e330"),l=r("d039"),u=a.Array,d=o("JSON","stringify"),s=i(/./.exec),p=i("".charAt),b=i("".charCodeAt),f=i("".replace),g=i(1..toString),h=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,v=function(e,t,r){var n=p(r,t-1),a=p(r,t+1);return s(m,e)&&!s(S,a)||s(S,e)&&!s(m,n)?"\\u"+g(b(e,0),16):e},O=l((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&n({target:"JSON",stat:!0,forced:O},{stringify:function(e,t,r){for(var n=0,a=arguments.length,o=u(a);n<a;n++)o[n]=arguments[n];var i=c(d,null,o);return"string"==typeof i?f(i,h,v):i}})},fb6a:function(e,t,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("e8b5"),c=r("68ee"),i=r("861d"),l=r("23cb"),u=r("07fa"),d=r("fc6a"),s=r("8418"),p=r("b622"),b=r("1dde"),f=r("f36a"),g=b("slice"),h=p("species"),m=a.Array,S=Math.max;n({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var r,n,a,p=d(this),b=u(p),g=l(e,b),v=l(void 0===t?b:t,b);if(o(p)&&(r=p.constructor,c(r)&&(r===m||o(r.prototype))?r=void 0:i(r)&&(r=r[h],null===r&&(r=void 0)),r===m||void 0===r))return f(p,g,v);for(n=new(void 0===r?m:r)(S(v-g,0)),a=0;g<v;g++,a++)g in p&&s(n,a,p[g]);return n.length=a,n}})}}]);
//# sourceMappingURL=chunk-ce985490.js.map