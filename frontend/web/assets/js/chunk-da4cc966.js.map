{"version":3,"sources":["webpack:///./src/components/CustomerCart.vue","webpack:///./src/components/CustomerCart.vue?143e","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["style","data","tableData","type","width","label","show-overflow-tooltip","align","default","scope","row","Name","prop","toggleMinus","disabled","NumberInCart","toggleAdd","RemainNumber","toggleDelete","countTotal","toggleSubmit","round","created","this","getSensorData","methods","axios","post","CustomerID","firebase","auth","currentUser","email","ShopID","ProductSupplierID","ProductID","then","response","console","log","res","JSON","stringify","resobj","parse","error","catch","page","total","i","length","Price","get","params","__exports__","render","$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","l","arguments","args","result"],"mappings":"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","file":"assets/js/chunk-da4cc966.js","sourcesContent":["<template>\n  <el-table :data=\"tableData\" style=\"width: 100%\">\n    <el-table-column type=\"tableData\" width=\"55\" />\n    <el-table-column label=\"Name\" show-overflow-tooltip align=\"center\">\n      <template #default=\"scope\">{{ scope.row.Name }}</template>\n    </el-table-column>\n    <el-table-column prop=\"ShopID\" label=\"Shop\" show-overflow-tooltip align=\"center\"/>\n    <el-table-column prop=\"RemainNumber\" label=\"Remain\" show-overflow-tooltip align=\"center\"/>\n    <el-table-column prop=\"Price\" label=\"Price\" show-overflow-tooltip align=\"center\"/>\n    <el-table-column width=\"100\" align=\"center\">\n      <template #default=\"scope\">\n        <el-button @click=\"toggleMinus(scope.row)\"\n        :disabled=\"scope.row.NumberInCart<=1\">-</el-button>\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"NumberInCart\" label=\"Quantity\" show-overflow-tooltip align=\"center\"/>\n    <el-table-column width=\"100\" align=\"center\">\n      <template #default=\"scope\">\n        <el-button @click=\"toggleAdd(scope.row)\"\n        :disabled=\"scope.row.NumberInCart>=scope.row.RemainNumber\">+</el-button>\n      </template>\n    </el-table-column>\n    <el-table-column width=\"100\" align=\"center\">\n      <template #default=\"scope\">\n        <el-button @click=\"toggleDelete(scope.row)\">delete</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n  <div>\n    <p>Total Price: {{countTotal()}}</p>\n  </div>\n  <div style=\"margin-top: 20px\">\n    <el-button @click=\"toggleSubmit()\" round>Submit</el-button>\n  </div>\n</template>\n\n<script>\nexport default {\n  created(){\n    this.getSensorData()\n    \n  },\n  data() {\n    return {\n      tableData: [\n      ],\n    }\n  },\n\n  methods: {\n    toggleDelete(row){\n      this.axios.post(\"http://127.0.0.1:9000/nn/deleteCart\", {\n            // post 參數放這裡\n            CustomerID: this.firebase.auth().currentUser.email,\n            ShopID: row.ShopID,\n            ProductSupplierID: row.ProductSupplierID,\n            ProductID: row.ProductID,\n          })\n          .then(response => {// 回傳的 response 處理\n            console.log(response);\n            let res = JSON.stringify(response.data); // 先 變字串\n          let resobj = JSON.parse(res) \n          if(resobj.error){\n            this.error = resobj.error\n          }\n          else{\n            console.log('success')\n            this.getSensorData()\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          this.error = 'delete fail'\n          console.log(this.page)\n        });\n    },\n\n    countTotal(){\n      var total=0\n      for(var i=0;i<this.tableData.length;++i){\n        total += this.tableData[i].Price * this.tableData[i].NumberInCart\n      }\n      return total\n    },\n    toggleMinus(row) {\n        \n          this.axios.post(\"http://127.0.0.1:9000/customer/subtractProductNumInCart\", {\n            // post 參數放這裡\n            CustomerID: this.firebase.auth().currentUser.email,\n            ShopID: row.ShopID,\n            ProductSupplierID: row.ProductSupplierID,\n            ProductID: row.ProductID,\n          })\n          .then(response => {// 回傳的 response 處理\n            console.log(response);\n            let res = JSON.stringify(response.data); // 先 變字串\n          let resobj = JSON.parse(res) \n          if(resobj.error){\n            this.error = resobj.error\n          }\n          else{\n            console.log('success')\n            this.getSensorData()\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          this.error = 'subtract fail'\n          console.log(this.page)\n        });\n      \n    },\n    toggleAdd(row) {\n        \n          this.axios.post(\"http://127.0.0.1:9000/customer/addProductNumInCart\", {\n            // post 參數放這裡\n            CustomerID: this.firebase.auth().currentUser.email,\n            ShopID: row.ShopID,\n            ProductSupplierID: row.ProductSupplierID,\n            ProductID: row.ProductID,\n          })\n          .then(response => {// 回傳的 response 處理\n            console.log(response);\n            let res = JSON.stringify(response.data); // 先 變字串\n          let resobj = JSON.parse(res) \n          if(resobj.error){\n            this.error = resobj.error\n          }\n          else{\n            console.log('success')\n            this.getSensorData()\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          this.error = 'add fail'\n          console.log(this.page)\n        });\n      \n    },\n    toggleSubmit() {\n        //post 寫法\n      this.axios.post('http://127.0.0.1:9000/customer/buy', {\n        // post 參數放這裡\n        CustomerID: this.firebase.auth().currentUser.email,\n      })\n      .then(response => {// 回傳的 response 處理\n        console.log(response);\n        let res = JSON.stringify(response.data); // 先 變字串\n        let resobj = JSON.parse(res) \n        if(resobj.error){\n          this.error = resobj.error\n        }\n        else{\n          console.log('success')\n          this.getSensorData()\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        this.error = 'buy fail'\n        console.log(this.page)\n      });\n    },\n    getSensorData() {\n        this.axios.get('http://127.0.0.1:9000/customer/clickCart', {\n        params: {\n          //get 參數放這裡\n          CustomerID: this.firebase.auth().currentUser.email ,\n          \n        }\n      })\n      .then(response=> {//  get 回來的 資料 處理\n        let res = JSON.stringify(response.data); // 先變字串\n        let resobj = JSON.parse(res) // 再變 object\n        this.tableData = resobj.data\n        // 就可以做其他處理 像存到data 裡面\n        console.log(resobj.data)\n      })\n      .catch(error => {\n        console.log(error);\n      })\n    }\n  },\n}\n</script>\n","import { render } from \"./CustomerCart.vue?vue&type=template&id=a63681d6\"\nimport script from \"./CustomerCart.vue?vue&type=script&lang=js\"\nexport * from \"./CustomerCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mark/Desktop/分散式/Distributed_System/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}