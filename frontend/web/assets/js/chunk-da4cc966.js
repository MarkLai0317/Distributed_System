(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da4cc966"],{"69ec":function(e,t,r){"use strict";r.r(t);var o=r("f2bf"),n=Object(o["createTextVNode"])("-"),a=Object(o["createTextVNode"])("+"),c=Object(o["createTextVNode"])("delete"),i={style:{"margin-top":"20px"}},l=Object(o["createTextVNode"])("Submit");function u(e,t,r,u,s,d){var b=Object(o["resolveComponent"])("el-table-column"),f=Object(o["resolveComponent"])("el-button"),h=Object(o["resolveComponent"])("el-table");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(h,{data:s.tableData,style:{width:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{type:"tableData",width:"55"}),Object(o["createVNode"])(b,{label:"Name","show-overflow-tooltip":"",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.row.Name),1)]})),_:1}),Object(o["createVNode"])(b,{prop:"ShopID",label:"Shop","show-overflow-tooltip":"",align:"center"}),Object(o["createVNode"])(b,{prop:"RemainNumber",label:"Remain","show-overflow-tooltip":"",align:"center"}),Object(o["createVNode"])(b,{prop:"Price",label:"Price","show-overflow-tooltip":"",align:"center"}),Object(o["createVNode"])(b,{width:"100",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(f,{onClick:function(t){return d.toggleMinus(e.row)},disabled:e.row.NumberInCart<=1},{default:Object(o["withCtx"])((function(){return[n]})),_:2},1032,["onClick","disabled"])]})),_:1}),Object(o["createVNode"])(b,{prop:"NumberInCart",label:"Quantity","show-overflow-tooltip":"",align:"center"}),Object(o["createVNode"])(b,{width:"100",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(f,{onClick:function(t){return d.toggleAdd(e.row)},disabled:e.row.NumberInCart>=e.row.RemainNumber},{default:Object(o["withCtx"])((function(){return[a]})),_:2},1032,["onClick","disabled"])]})),_:1}),Object(o["createVNode"])(b,{width:"100",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(f,{onClick:function(t){return d.toggleDelete(e.row)}},{default:Object(o["withCtx"])((function(){return[c]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("p",null,"Total Price: "+Object(o["toDisplayString"])(d.countTotal()),1)]),Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(f,{onClick:t[0]||(t[0]=function(e){return d.toggleSubmit()}),round:""},{default:Object(o["withCtx"])((function(){return[l]})),_:1})])],64)}r("e9c4");var s={created:function(){this.getSensorData()},data:function(){return{tableData:[]}},methods:{toggleDelete:function(e){var t=this;this.axios.post("http://127.0.0.1:9000/nn/deleteCart",{CustomerID:this.firebase.auth().currentUser.email,ShopID:e.ShopID,ProductSupplierID:e.ProductSupplierID,ProductID:e.ProductID}).then((function(e){console.log(e);var r=JSON.stringify(e.data),o=JSON.parse(r);o.error?t.error=o.error:(console.log("success"),t.getSensorData())})).catch((function(e){console.log(e),t.error="delete fail",console.log(t.page)}))},countTotal:function(){for(var e=0,t=0;t<this.tableData.length;++t)e+=this.tableData[t].Price*this.tableData[t].NumberInCart;return e},toggleMinus:function(e){var t=this;this.axios.post("http://127.0.0.1:9000/customer/subtractProductNumInCart",{CustomerID:this.firebase.auth().currentUser.email,ShopID:e.ShopID,ProductSupplierID:e.ProductSupplierID,ProductID:e.ProductID}).then((function(e){console.log(e);var r=JSON.stringify(e.data),o=JSON.parse(r);o.error?t.error=o.error:(console.log("success"),t.getSensorData())})).catch((function(e){console.log(e),t.error="subtract fail",console.log(t.page)}))},toggleAdd:function(e){var t=this;this.axios.post("http://127.0.0.1:9000/customer/addProductNumInCart",{CustomerID:this.firebase.auth().currentUser.email,ShopID:e.ShopID,ProductSupplierID:e.ProductSupplierID,ProductID:e.ProductID}).then((function(e){console.log(e);var r=JSON.stringify(e.data),o=JSON.parse(r);o.error?t.error=o.error:(console.log("success"),t.getSensorData())})).catch((function(e){console.log(e),t.error="add fail",console.log(t.page)}))},toggleSubmit:function(){var e=this;this.axios.post("http://127.0.0.1:9000/customer/buy",{CustomerID:this.firebase.auth().currentUser.email}).then((function(t){console.log(t);var r=JSON.stringify(t.data),o=JSON.parse(r);o.error?e.error=o.error:(console.log("success"),e.getSensorData())})).catch((function(t){console.log(t),e.error="buy fail",console.log(e.page)}))},getSensorData:function(){var e=this;this.axios.get("http://127.0.0.1:9000/customer/clickCart",{params:{CustomerID:this.firebase.auth().currentUser.email}}).then((function(t){var r=JSON.stringify(t.data),o=JSON.parse(r);e.tableData=o.data,console.log(o.data)})).catch((function(e){console.log(e)}))}}},d=r("6b0d"),b=r.n(d);const f=b()(s,[["render",u]]);t["default"]=f},e9c4:function(e,t,r){var o=r("23e7"),n=r("da84"),a=r("d066"),c=r("2ba4"),i=r("e330"),l=r("d039"),u=n.Array,s=a("JSON","stringify"),d=i(/./.exec),b=i("".charAt),f=i("".charCodeAt),h=i("".replace),g=i(1..toString),p=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,N=function(e,t,r){var o=b(r,t-1),n=b(r,t+1);return d(O,e)&&!d(D,n)||d(D,e)&&!d(O,o)?"\\u"+g(f(e,0),16):e},m=l((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&o({target:"JSON",stat:!0,forced:m},{stringify:function(e,t,r){for(var o=0,n=arguments.length,a=u(n);o<n;o++)a[o]=arguments[o];var i=c(s,null,a);return"string"==typeof i?h(i,p,N):i}})}}]);
//# sourceMappingURL=chunk-da4cc966.js.map