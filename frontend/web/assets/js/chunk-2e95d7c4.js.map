{"version":3,"sources":["webpack:///./src/components/test/tsaiTest.vue","webpack:///./src/components/test/tsaiTest.vue?36d2","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["ref","data","ShopList","highlight-current-row","handleCurrentChange","max-height","style","property","label","width","CurrentMsg","msg","key","id","align","From","Msg","CurrentRow","HistoryMsg","methods","val","this","console","log","ShopID","getAllShopID","axios","get","params","then","response","res","JSON","stringify","resobj","parse","arr","i","length","push","ShopName","catch","error","getHistoryMsg","UserId","created","__exports__","render","$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","l","arguments","args","result"],"mappings":"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","file":"assets/js/chunk-2e95d7c4.js","sourcesContent":["<template>\n  <el-container>\n    <el-header>\n      <h2>Chat Room</h2>\n    </el-header>\n    <el-container>\n\n      <el-aside>\n        <el-table ref=\"singleTable\" :data=\"ShopList\" highlight-current-row @current-change=\"handleCurrentChange\"\n          max-height=\"1000\" style=\"width: 30%\">\n          <el-table-column property=\"ShopName\" label=\"Shops\" width=\"120\">\n          </el-table-column>\n        </el-table>\n      </el-aside>\n\n      <el-main>\n        <div v-for=\"msg in CurrentMsg\" v-bind:key=\"msg.id\" align=\"left\">\n          <div v-if=\"msg.From === '108703031@nccu.edu.tw' \">You : {{msg.Msg}}</div>\n          <div v-else>shop{{msg.From[7]}}{{msg.From[8]}}:{{msg.Msg}}</div>\n        </div>\n      </el-main>\n\n    </el-container>\n\n\n  </el-container>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        ShopList: [], \n        CurrentRow: null,\n        HistoryMsg: {},\n        CurrentMsg: {}\n      }\n    },\n\n    methods: {\n      handleCurrentChange(val) {\n        // !! this is currently hard coded due to some uncertainty\n        this.CurrentRow = val;\n        console.log(\"val,this.CurrentRow\", this.CurrentRow);\n        console.log(val.ShopID);\n        this.CurrentMsg = this.HistoryMsg[\"1087030\" + val.ShopID + \"@nccu.edu.tw\"];\n        console.log(\"currentMsg\", this.CurrentMsg);\n      },\n      getAllShopID(){\n        this.axios.get('http://127.0.0.1:9000/customer/getShopList', {\n          params: {\n            // no parameters\n          }\n        })\n        .then(response=> {\n          let res = JSON.stringify(response.data); \n          let resobj = JSON.parse(res)\n          let arr = resobj.data\n          console.log(arr)\n          for(var i=0;i<arr.length;++i){\n            this.ShopList.push({ ShopID: arr[i].ShopID, ShopName: arr[i].ShopName })\n          }\n          \n        })\n        .catch(error => {\n          console.log(error);\n        })\n        .then(function () {\n          // always executed\n        })\n      },\n      getHistoryMsg(){\n          this.axios.get('http://127.0.0.1:9000/chat/getHistory', {\n          params: {\n            // UserId: this.firebase.auth().currentUser.email\n            UserId: \"108703031@nccu.edu.tw\"\n          }\n        })\n        .then(response=> {\n          let res = JSON.stringify(response.data); \n          let resobj = JSON.parse(res);\n          console.log(resobj);\n          this.HistoryMsg = resobj;\n          \n        })\n        .catch(error => {\n          console.log(error);\n        })\n        .then(function () {\n          // always executed\n          \n        })\n\n      }\n    },\n\n    created(){\n      this.getAllShopID(),\n      this.getHistoryMsg()\n    }\n  }\n</script>","import { render } from \"./tsaiTest.vue?vue&type=template&id=a60f9688\"\nimport script from \"./tsaiTest.vue?vue&type=script&lang=js\"\nexport * from \"./tsaiTest.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mark/Desktop/分散式/Distributed_System/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}