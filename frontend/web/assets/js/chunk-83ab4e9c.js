(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83ab4e9c"],{2843:function(e,t,a){"use strict";a("e15e")},caf6:function(e,t,a){"use strict";a.r(t);var o=a("f2bf"),r=Object(o["createElementVNode"])("h2",null,"Order history",-1),i={class:"grid-content"},c={class:"grid-content"},s={class:"grid-content"},n=Object(o["createTextVNode"])("Last Page"),l=Object(o["createTextVNode"])("Next Page");function d(e,t,a,d,h,u){var b=this,p=Object(o["resolveComponent"])("el-col"),O=Object(o["resolveComponent"])("el-row"),g=Object(o["resolveComponent"])("el-table-column"),m=Object(o["resolveComponent"])("el-table"),j=Object(o["resolveComponent"])("el-main"),f=Object(o["resolveComponent"])("el-container"),N=Object(o["resolveComponent"])("el-button"),C=Object(o["resolveComponent"])("el-box");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[r,Object(o["createVNode"])(f,{style:{"margin-left":"400px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{gutter:30,justify:"start"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{span:2},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",i,Object(o["toDisplayString"])(h.order.Date),1)]})),_:1}),Object(o["createVNode"])(p,{span:4,offset:0},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,"trade ID:"+Object(o["toDisplayString"])(h.order.Oid),1)]})),_:1}),Object(o["createVNode"])(p,{span:3,offset:0},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",s,"交易價格 $"+Object(o["toDisplayString"])(h.order.Price),1)]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{data:h.table},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{prop:"ProductName",label:"Name",width:"220"}),Object(o["createVNode"])(g,{prop:"ShopName",label:"Shop",width:"150"}),Object(o["createVNode"])(g,{prop:"Num",label:"Number",width:"80"}),Object(o["createVNode"])(g,{prop:"Price",label:"Price",width:"100"})]})),_:1},8,["data"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(N,{onClick:u.lastPage,disabled:1==this.page,size:"mini"},{default:Object(o["withCtx"])((function(){return[n]})),_:1},8,["onClick","disabled"]),Object(o["createVNode"])(C,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("     "+Object(o["toDisplayString"])(b.page)+"    ",1)]})),_:1}),Object(o["createVNode"])(N,{onClick:u.nextPage,disabled:this.page==this.maxPage,size:"mini"},{default:Object(o["withCtx"])((function(){return[l]})),_:1},8,["onClick","disabled"])])}var h={data(){return{CustomerID:this.firebase.auth().currentUser.email,page:1,order:{Date:"haha",Oid:"123123",Price:1111},table:[],maxPage:2}},methods:{lastPage(){this.page-1>0&&(this.page-=1),this.axios.get("http://127.0.0.1:9000/customer/history",{params:{CustomerID:this.CustomerID,page:this.page}}).then(e=>{let t=JSON.stringify(e.data),a=JSON.parse(t);this.table=a,this.order.Date=a.data[0].Time.split(" ")[0],this.order.Oid=a.data[0].HistoryID,this.order.Price=a.data[0].TotalPrice,this.table=a.data[0].PurchaseHistory}).catch(e=>{console.log(e)}).then((function(){})),console.log("last page")},nextPage(){this.page+1<=this.maxPage&&(this.page+=1),this.axios.get("http://127.0.0.1:9000/customer/history",{params:{CustomerID:this.CustomerID,page:this.page}}).then(e=>{let t=JSON.stringify(e.data),a=JSON.parse(t);this.table=a,this.order.Date=a.data[0].Time.split(" ")[0],this.order.Oid=a.data[0].HistoryID,this.order.Price=a.data[0].TotalPrice,this.table=a.data[0].PurchaseHistory}).catch(e=>{console.log(e)}).then((function(){})),console.log("next page")}},created(){this.axios.get("http://127.0.0.1:9000/customer/getHistoryNum",{params:{CustomerID:this.CustomerID}}).then(e=>{let t=JSON.stringify(e.data),a=JSON.parse(t);this.table=a,this.maxPage=a.numHid,console.log("Max page",this.maxPage)}).catch(e=>{console.log(e)}).then((function(){})),this.page=1,this.axios.get("http://127.0.0.1:9000/customer/history",{params:{CustomerID:this.CustomerID,page:1}}).then(e=>{let t=JSON.stringify(e.data),a=JSON.parse(t);this.order.Date=a.data[0].Time.split(" ")[0],this.order.Oid=a.data[0].HistoryID,this.order.Price=a.data[0].TotalPrice,this.table=a.data[0].PurchaseHistory}).catch(e=>{console.log(e)}).then((function(){})),console.log("created")}},u=(a("2843"),a("6b0d")),b=a.n(u);const p=b()(h,[["render",d]]);t["default"]=p},e15e:function(e,t,a){}}]);
//# sourceMappingURL=chunk-83ab4e9c.js.map