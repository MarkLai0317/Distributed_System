{"version":3,"sources":["webpack:///./src/components/BuyTable.vue","webpack:///./src/components/BuyTable.vue?c074","webpack:///./node_modules/core-js/modules/es.json.stringify.js"],"names":["TypeValue","placeholder","selectType","TypeOptions","item","key","value","label","ShopValue","selectShop","ShopOptions","data","currentPage","style","align","prop","width","default","size","disabled","scope","row","RemainNumber","pressAdd","$index","background","layout","page-size","pageSize","total","maxPage","getPage","page","currentType","currentShopName","created","this","getMaxPage","getAllType","getAllShopID","methods","val","axios","get","params","ShopID","Type","then","response","res","JSON","stringify","resobj","parse","console","log","catch","error","index","post","CustomerID","firebase","auth","currentUser","email","ProductSupplierID","SupplierID","ProductID","arr","i","length","push","ShopName","computed","__exports__","render","$","global","getBuiltIn","apply","uncurryThis","fails","Array","$stringify","exec","charAt","charCodeAt","replace","numberToString","toString","tester","low","hi","fix","match","offset","string","prev","next","FORCED","target","stat","forced","it","replacer","space","l","arguments","args","result"],"mappings":"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","file":"assets/js/chunk-0e66bec1.js","sourcesContent":["<template>\n<div>\n    <h4>Select Type: </h4>\n    <el-select v-model=\"TypeValue\" placeholder=\"Select Type\" @change=\"selectType\">\n      <el-option\n        v-for=\"item in TypeOptions\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        :value=\"item.value\">\n      </el-option>\n    </el-select>\n\n    <!-- <td nowrap>select shop: </td> -->\n    <h4>Select Shop</h4>\n    <el-select v-model=\"ShopValue\" placeholder=\"Select Type\" @change=\"selectShop\">\n      <el-option\n        v-for=\"item in ShopOptions\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        :value=\"item.value\">\n      </el-option>\n    </el-select>\n\n  <el-table :data=\"currentPage\" style=\"width: 100%\" align=\"center\">\n    \n    <el-table-column prop=\"ProductName\" label=\"Product\" width=\"150\" align=\"center\"/>\n    <el-table-column prop=\"ShopName\" label=\"Shop\" width=\"150\" align=\"center\"/>\n    <el-table-column prop=\"RemainNumber\" label=\"Remain\" width=\"150\" align=\"center\"/>\n    <el-table-column prop=\"Price\" label=\"Price\" width=\"150\" align=\"center\"/>\n    <el-table-column prop=\"Type\" label=\"Type\" width=\"150\" align=\"center\"/>\n    <!-- -->\n    <el-table-column width=\"150\" align=\"center\">\n      <template #default=\"scope\" >\n        <el-button\n          size=\"mini\"\n          :disabled=\"scope.row.RemainNumber<1?true:false\"\n          @click=\"pressAdd(scope.$index, scope.row)\">Add</el-button>\n      </template>\n    </el-table-column>\n    <!-- -->\n\n  </el-table>\n  <el-pagination\n    background\n    layout=\"prev, pager, next\"\n    :page-size=\"pageSize\"\n    :total=maxPage\n    @current-change=\"getPage\">\n  </el-pagination>\n  <!-- test button -->\n     \n</div>\n</template>\n\n<script >\nexport default {\n  data() {\n    return {\n      page: 1,\n      maxPage: 50,\n      pageSize: 10,\n      currentType: '',\n      currentShopName: '', \n      currentPage: [],\n      TypeValue: '',\n      ShopValue: '',\n      // api\n      TypeOptions: [{\n          value: '',\n          label: 'all'\n        }],\n      ShopOptions: [{\n          value: '',\n          label: 'all'\n        },]\n    }\n  },\n  created(){\n    this.getPage(1),\n    this.getMaxPage(),\n    this.getAllType(),\n    this.getAllShopID()\n  },\n  methods: {\n    // get the current page\n    getPage(val) {\n\n      this.page = val\n      //get 寫法\n      this.axios.get('http://127.0.0.1:9000/customer/searchProduct', {\n        params: {\n          //get 參數放這裡\n          ShopID: this.currentShopName, // ShopName ---\n          Type: this.currentType,\n          page: val\n        }\n      })\n      .then(response=> {//  get 回來的 資料 處理\n        let res = JSON.stringify(response.data); // 先 變字串\n        let resobj = JSON.parse(res) // 再變 object\n        this.currentPage = resobj.data\n        // 就可以做其他處理 像存到data 裡面\n        console.log(resobj.data)\n        console.log(val)\n      \n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n    },\n    //////\n    pressAdd(index,row) {\n      console.log(index)\n      console.log(row)\n      this.axios.post('http://127.0.0.1:9000/customer/add', {\n        // post 參數放這裡\n        CustomerID: this.firebase.auth().currentUser.email,\n        ShopID: row.ShopID,\n        ProductSupplierID: row.SupplierID,\n        ProductID: row.ProductID\n      })\n      .then(response => {// 回傳的 response 處理\n        console.log(response);\n        let res = JSON.stringify(response.data); // 先 變字串\n        let resobj = JSON.parse(res) \n        if(resobj.error){\n          this.error = resobj.error\n        }\n        else{\n          console.log('add succeed!')\n        }\n\n      })\n      .catch(error => {\n        console.log(error)\n        this.error = 'register fail'\n        console.log(this.page)\n      });\n    },\n    ////\n    selectType(val){\n      this.currentType = val\n      this.getPage(this.page)\n      this.getMaxPage()\n    },\n    selectShop(val){\n      this.currentShopName = val\n      this.getPage(this.page)\n      this.getMaxPage()\n    },\n    // get the total number of pages \n    getMaxPage(){\n      this.axios.get('http://127.0.0.1:9000/customer/maxPage', {\n        params: {\n          //get 參數\n          ShopID: this.currentShopName, \n          Type: this.currentType,\n        }\n      })\n      .then(response=> {\n        let res = JSON.stringify(response.data); \n        let resobj = JSON.parse(res)\n        console.log(resobj)\n        this.maxPage = (resobj.page*10)\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n\n    },\n    getAllType(){\n      this.axios.get('http://127.0.0.1:9000/customer/getType', {\n        params: {\n          // no parameters\n        }\n      })\n      .then(response=> {\n        let res = JSON.stringify(response.data); \n        let resobj = JSON.parse(res)\n        let arr = resobj.data\n        console.log(arr)\n        for(var i=0;i<arr.length;++i){\n          this.TypeOptions.push({ value: arr[i].Type, label:arr[i].Type })\n        }\n\n        \n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n    },\n    getAllShopID(){\n      this.axios.get('http://127.0.0.1:9000/customer/getShopList', {\n        params: {\n          // no parameters\n        }\n      })\n      .then(response=> {\n        let res = JSON.stringify(response.data); \n        let resobj = JSON.parse(res)\n        let arr = resobj.data\n        console.log(arr)\n        for(var i=0;i<arr.length;++i){\n          this.ShopOptions.push({ value: arr[i].ShopID, label: arr[i].ShopName })\n        }\n        \n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n    }\n\n\n    \n  },\n  computed: {\n    \n  }\n}\n</script>\n<style lang=\"\">\n  \n</style>","import { render } from \"./BuyTable.vue?vue&type=template&id=23469306\"\nimport script from \"./BuyTable.vue?vue&type=script&lang=js\"\nexport * from \"./BuyTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mark/Desktop/分散式/Distributed_System/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\n\nvar Array = global.Array;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar exec = uncurryThis(/./.exec);\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar replace = uncurryThis(''.replace);\nvar numberToString = uncurryThis(1.0.toString);\n\nvar tester = /[\\uD800-\\uDFFF]/g;\nvar low = /^[\\uD800-\\uDBFF]$/;\nvar hi = /^[\\uDC00-\\uDFFF]$/;\n\nvar fix = function (match, offset, string) {\n  var prev = charAt(string, offset - 1);\n  var next = charAt(string, offset + 1);\n  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {\n    return '\\\\u' + numberToString(charCodeAt(match, 0), 16);\n  } return match;\n};\n\nvar FORCED = fails(function () {\n  return $stringify('\\uDF06\\uD834') !== '\"\\\\udf06\\\\ud834\"'\n    || $stringify('\\uDEAD') !== '\"\\\\udead\"';\n});\n\nif ($stringify) {\n  // `JSON.stringify` method\n  // https://tc39.es/ecma262/#sec-json.stringify\n  // https://github.com/tc39/proposal-well-formed-stringify\n  $({ target: 'JSON', stat: true, forced: FORCED }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      for (var i = 0, l = arguments.length, args = Array(l); i < l; i++) args[i] = arguments[i];\n      var result = apply($stringify, null, args);\n      return typeof result == 'string' ? replace(result, tester, fix) : result;\n    }\n  });\n}\n"],"sourceRoot":""}