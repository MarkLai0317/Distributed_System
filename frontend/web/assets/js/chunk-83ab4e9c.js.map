{"version":3,"sources":["webpack:///./src/components/CustomerHistory.vue?bf02","webpack:///./src/components/CustomerHistory.vue","webpack:///./src/components/CustomerHistory.vue?2dfd"],"names":["class","style","gutter","justify","span","order","Date","offset","Oid","Price","data","table","prop","label","width","lastPage","disabled","page","size","nextPage","maxPage","CustomerID","this","firebase","auth","currentUser","email","methods","axios","get","params","then","response","res","JSON","stringify","resobj","parse","Time","split","HistoryID","TotalPrice","PurchaseHistory","catch","error","console","log","numHid","__exports__","render"],"mappings":"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","file":"assets/js/chunk-83ab4e9c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CustomerHistory.vue?vue&type=style&index=0&id=e52fadfa&lang=css\"","<template>\n  <div>\n    <h2>Order history</h2>\n    <el-container style=\"margin-left: 400px\">\n      \n      <el-main>\n        <el-row :gutter=\"30\" justify=\"start\" >\n          <el-col :span=\"2\">\n            <div class=\"grid-content\">{{ order.Date }}</div>\n          </el-col>\n          <el-col :span=\"4\" :offset=\"0\">\n            <div class=\"grid-content\">trade ID:{{ order.Oid }}</div>\n          </el-col>\n          <el-col :span=\"3\" :offset=\"0\">\n            <div class=\"grid-content\">交易價格 ${{ order.Price }}</div>\n          </el-col>\n        </el-row>\n\n        <el-row>\n          <el-table :data=\"table\" >\n            <el-table-column prop=\"ProductName\" label=\"Name\" width=\"220\" />\n            <el-table-column prop=\"ShopName\" label=\"Shop\" width=\"150\" />\n            <el-table-column prop=\"Num\" label=\"Number\" width=\"80\" />\n            <el-table-column prop=\"Price\" label=\"Price\" width=\"100\" />\n          </el-table>\n        </el-row>\n\n      </el-main>\n\n    </el-container>\n    <el-button @click=\"lastPage\" \n    :disabled=\"this.page==1\"\n    size=\"mini\">Last Page</el-button>\n    <el-box>&nbsp;&nbsp;&nbsp;&nbsp; {{this.page}} &nbsp;&nbsp; </el-box>\n    <el-button @click=\"nextPage\" \n    :disabled=\"this.page==this.maxPage\"\n    size=\"mini\">Next Page</el-button>\n  </div>\n</template>\n\n<script lang=\"\" scoped>\nexport default {\n  data() {\n    return {\n      CustomerID: this.firebase.auth().currentUser.email,\n      page: 1,\n      order:{\n        Date: 'haha',\n        Oid: '123123',\n        Price: 1111,\n      },\n      table:[\n      ],\n      maxPage: 2\n\n    };\n  },\n  methods: {\n    lastPage() {\n       if (this.page - 1 > 0) {\n        this.page -= 1;\n       }\n      //last page\n      //get 寫法\n      this.axios.get('http://127.0.0.1:9000/customer/history', {\n        params: {\n          //get 參數放這裡\n          CustomerID: this.CustomerID,\n          page: this.page,\n        }\n      })\n      .then(response=> {//  get 回來的 資料 處理\n        let res = JSON.stringify(response.data); // 先變字串\n        let resobj = JSON.parse(res) // 再變 object\n        this.table = resobj\n        // 就可以做其他處理 像存到data 裡面\n        // Date and Oid\n        this.order.Date = resobj.data[0].Time.split(' ')[0];\n        this.order.Oid = resobj.data[0].HistoryID;\n        this.order.Price = resobj.data[0].TotalPrice;\n        // table data\n        this.table = resobj.data[0].PurchaseHistory;\n\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n      //---------\n      console.log(\"last page\");\n    },\n    nextPage() {\n     if (this.page + 1 <= this.maxPage) { // where can get the limit of page\n        this.page += 1;\n       }\n      //next pagegti\n      //get 寫法\n      this.axios.get('http://127.0.0.1:9000/customer/history', {\n        params: {\n          //get 參數放這裡\n          CustomerID: this.CustomerID,\n          page: this.page,\n        }\n      })\n      .then(response=> {//  get 回來的 資料 處理\n        let res = JSON.stringify(response.data); // 先變字串\n        let resobj = JSON.parse(res) // 再變 object\n        this.table = resobj\n        // 就可以做其他處理 像存到data 裡面\n        // Date and Oid\n        this.order.Date = resobj.data[0].Time.split(' ')[0];\n        this.order.Oid = resobj.data[0].HistoryID;\n        this.order.Price = resobj.data[0].TotalPrice;\n        // table data\n        this.table = resobj.data[0].PurchaseHistory;\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n      //---------\n      console.log(\"next page\");\n    },\n\n  },\n  created(){\n      this.axios.get('http://127.0.0.1:9000/customer/getHistoryNum', {\n        params: {\n          //get 參數放這裡\n          CustomerID: this.CustomerID,\n        }\n      })\n      .then(response=> {//  get 回來的 資料 處理\n        let res = JSON.stringify(response.data); // 先變字串\n        let resobj = JSON.parse(res); // 再變 object\n        this.table = resobj;\n        // 就可以做其他處理 像存到data 裡面\n        this.maxPage = resobj.numHid;\n        console.log(\"Max page\",this.maxPage);\n        })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n      //---------\n\n    this.page=1;\n    //get 寫法\n      this.axios.get('http://127.0.0.1:9000/customer/history', {\n        params: {\n          //get 參數放這裡\n          CustomerID: this.CustomerID,\n          page: 1,\n        }\n      })\n      .then(response=> {//  get 回來的 資料 處理\n        let res = JSON.stringify(response.data); // 先變字串\n        let resobj = JSON.parse(res) // 再變 object\n        // this.table = resobj\n        // 就可以做其他處理 像存到data 裡面\n        // Date and Oid\n        this.order.Date = resobj.data[0].Time.split(' ')[0];\n        this.order.Oid = resobj.data[0].HistoryID;\n        this.order.Price = resobj.data[0].TotalPrice;\n        // table data\n        this.table = resobj.data[0].PurchaseHistory;\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .then(function () {\n        // always executed\n      })\n      //---------\n      console.log(\"created\")\n  },\n};\n</script>\n\n<style>\n.pageBox {\n  padding: 10px;\n}\n</style>\n","import { render } from \"./CustomerHistory.vue?vue&type=template&id=e52fadfa\"\nimport script from \"./CustomerHistory.vue?vue&type=script&lang=true&scoped=true\"\nexport * from \"./CustomerHistory.vue?vue&type=script&lang=true&scoped=true\"\n\nimport \"./CustomerHistory.vue?vue&type=style&index=0&id=e52fadfa&lang=css\"\n\nimport exportComponent from \"/Users/mark/Desktop/分散式/Distributed_System/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}