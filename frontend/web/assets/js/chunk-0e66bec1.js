(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e66bec1"],{"57f1":function(e,t,n){"use strict";n.r(t);var o=n("f2bf"),a=Object(o["createElementVNode"])("h4",null,"Select Type: ",-1),r=Object(o["createElementVNode"])("h4",null,"Select Shop",-1),c=Object(o["createTextVNode"])("Add");function l(e,t,n,l,u,i){var p=Object(o["resolveComponent"])("el-option"),s=Object(o["resolveComponent"])("el-select"),h=Object(o["resolveComponent"])("el-table-column"),d=Object(o["resolveComponent"])("el-button"),g=Object(o["resolveComponent"])("el-table"),b=Object(o["resolveComponent"])("el-pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[a,Object(o["createVNode"])(s,{modelValue:u.TypeValue,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.TypeValue=e}),placeholder:"Select Type",onChange:i.selectType},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(u.TypeOptions,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"]),r,Object(o["createVNode"])(s,{modelValue:u.ShopValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.ShopValue=e}),placeholder:"Select Type",onChange:i.selectShop},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(u.ShopOptions,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"]),Object(o["createVNode"])(g,{data:u.currentPage,style:{width:"100%"},align:"center"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{prop:"ProductName",label:"Product",width:"150",align:"center"}),Object(o["createVNode"])(h,{prop:"ShopName",label:"Shop",width:"150",align:"center"}),Object(o["createVNode"])(h,{prop:"RemainNumber",label:"Remain",width:"150",align:"center"}),Object(o["createVNode"])(h,{prop:"Price",label:"Price",width:"150",align:"center"}),Object(o["createVNode"])(h,{prop:"Type",label:"Type",width:"150",align:"center"}),Object(o["createVNode"])(h,{width:"150",align:"center"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(d,{size:"mini",disabled:e.row.RemainNumber<1,onClick:function(t){return i.pressAdd(e.$index,e.row)}},{default:Object(o["withCtx"])((function(){return[c]})),_:2},1032,["disabled","onClick"])]})),_:1})]})),_:1},8,["data"]),Object(o["createVNode"])(b,{background:"",layout:"prev, pager, next","page-size":u.pageSize,total:u.maxPage,onCurrentChange:i.getPage},null,8,["page-size","total","onCurrentChange"])])}n("e9c4");var u={data:function(){return{page:1,maxPage:50,pageSize:10,currentType:"",currentShopName:"",currentPage:[],TypeValue:"",ShopValue:"",TypeOptions:[{value:"",label:"all"}],ShopOptions:[{value:"",label:"all"}]}},created:function(){this.getPage(1),this.getMaxPage(),this.getAllType(),this.getAllShopID()},methods:{getPage:function(e){var t=this;this.page=e,this.axios.get("http://127.0.0.1:9000/customer/searchProduct",{params:{ShopID:this.currentShopName,Type:this.currentType,page:e}}).then((function(n){var o=JSON.stringify(n.data),a=JSON.parse(o);t.currentPage=a.data,console.log(a.data),console.log(e)})).catch((function(e){console.log(e)})).then((function(){}))},pressAdd:function(e,t){var n=this;console.log(e),console.log(t),this.axios.post("http://127.0.0.1:9000/customer/add",{CustomerID:this.firebase.auth().currentUser.email,ShopID:t.ShopID,ProductSupplierID:t.SupplierID,ProductID:t.ProductID}).then((function(e){console.log(e);var t=JSON.stringify(e.data),o=JSON.parse(t);o.error?n.error=o.error:console.log("add succeed!")})).catch((function(e){console.log(e),n.error="register fail",console.log(n.page)}))},selectType:function(e){this.currentType=e,this.getPage(this.page),this.getMaxPage()},selectShop:function(e){this.currentShopName=e,this.getPage(this.page),this.getMaxPage()},getMaxPage:function(){var e=this;this.axios.get("http://127.0.0.1:9000/customer/maxPage",{params:{ShopID:this.currentShopName,Type:this.currentType}}).then((function(t){var n=JSON.stringify(t.data),o=JSON.parse(n);console.log(o),e.maxPage=10*o.page})).catch((function(e){console.log(e)})).then((function(){}))},getAllType:function(){var e=this;this.axios.get("http://127.0.0.1:9000/customer/getType",{params:{}}).then((function(t){var n=JSON.stringify(t.data),o=JSON.parse(n),a=o.data;console.log(a);for(var r=0;r<a.length;++r)e.TypeOptions.push({value:a[r].Type,label:a[r].Type})})).catch((function(e){console.log(e)})).then((function(){}))},getAllShopID:function(){var e=this;this.axios.get("http://127.0.0.1:9000/customer/getShopList",{params:{}}).then((function(t){var n=JSON.stringify(t.data),o=JSON.parse(n),a=o.data;console.log(a);for(var r=0;r<a.length;++r)e.ShopOptions.push({value:a[r].ShopID,label:a[r].ShopName})})).catch((function(e){console.log(e)})).then((function(){}))}},computed:{}},i=n("6b0d"),p=n.n(i);const s=p()(u,[["render",l]]);t["default"]=s},e9c4:function(e,t,n){var o=n("23e7"),a=n("da84"),r=n("d066"),c=n("2ba4"),l=n("e330"),u=n("d039"),i=a.Array,p=r("JSON","stringify"),s=l(/./.exec),h=l("".charAt),d=l("".charCodeAt),g=l("".replace),b=l(1..toString),f=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=function(e,t,n){var o=h(n,t-1),a=h(n,t+1);return s(O,e)&&!s(m,a)||s(m,e)&&!s(O,o)?"\\u"+b(d(e,0),16):e},v=u((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")}));p&&o({target:"JSON",stat:!0,forced:v},{stringify:function(e,t,n){for(var o=0,a=arguments.length,r=i(a);o<a;o++)r[o]=arguments[o];var l=c(p,null,r);return"string"==typeof l?g(l,f,S):l}})}}]);
//# sourceMappingURL=chunk-0e66bec1.js.map